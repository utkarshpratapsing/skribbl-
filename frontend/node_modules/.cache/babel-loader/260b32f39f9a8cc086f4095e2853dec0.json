{"ast":null,"code":"/** \n * Original from: https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\n * Original By Ken Fyrstenberg Nilsen\n * \n * Note: img must be fully loaded or have correct width & height set.\n */\nexport default function drawImageProp(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      ctx = _ref.ctx,\n      img = _ref.img,\n      x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY; // Defaults\n\n\n  if (typeof x !== \"number\") x = 0;\n  if (typeof y !== \"number\") y = 0;\n  if (typeof w !== \"number\") w = ctx.canvas.width;\n  if (typeof h !== \"number\") h = ctx.canvas.height;\n  if (typeof offsetX !== \"number\") offsetX = 0.5;\n  if (typeof offsetY !== \"number\") offsetY = 0.5; // keep bounds [0.0, 1.0]\n\n  if (offsetX < 0) offsetX = 0;\n  if (offsetY < 0) offsetY = 0;\n  if (offsetX > 1) offsetX = 1;\n  if (offsetY > 1) offsetY = 1;\n  var iw = img.width,\n      ih = img.height,\n      r = Math.min(w / iw, h / ih),\n      nw = iw * r,\n      // new prop. width\n  nh = ih * r,\n      // new prop. height\n  cx,\n      cy,\n      cw,\n      ch,\n      ar = 1; // decide which gap to fill\n\n  if (nw < w) ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n\n  nw *= ar;\n  nh *= ar; // calc source rectangle\n\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY; // make sure source rectangle is valid\n\n  if (cx < 0) cx = 0;\n  if (cy < 0) cy = 0;\n  if (cw > iw) cw = iw;\n  if (ch > ih) ch = ih; // fill image in dest. rectangle\n\n  ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n}","map":{"version":3,"sources":["/home/nsr/new/skribbl-/chatfrontend/node_modules/react-canvas-draw/es/drawImage.js"],"names":["drawImageProp","_temp","_ref","ctx","img","x","y","w","h","offsetX","offsetY","canvas","width","height","iw","ih","r","Math","min","nw","nh","cx","cy","cw","ch","ar","abs","drawImage"],"mappings":"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","sourcesContent":["/** \n * Original from: https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\n * Original By Ken Fyrstenberg Nilsen\n * \n * Note: img must be fully loaded or have correct width & height set.\n */\nexport default function drawImageProp(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      ctx = _ref.ctx,\n      img = _ref.img,\n      x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n\n  // Defaults\n  if (typeof x !== \"number\") x = 0;\n  if (typeof y !== \"number\") y = 0;\n  if (typeof w !== \"number\") w = ctx.canvas.width;\n  if (typeof h !== \"number\") h = ctx.canvas.height;\n  if (typeof offsetX !== \"number\") offsetX = 0.5;\n  if (typeof offsetY !== \"number\") offsetY = 0.5; // keep bounds [0.0, 1.0]\n\n  if (offsetX < 0) offsetX = 0;\n  if (offsetY < 0) offsetY = 0;\n  if (offsetX > 1) offsetX = 1;\n  if (offsetY > 1) offsetY = 1;\n  var iw = img.width,\n      ih = img.height,\n      r = Math.min(w / iw, h / ih),\n      nw = iw * r,\n      // new prop. width\n  nh = ih * r,\n      // new prop. height\n  cx,\n      cy,\n      cw,\n      ch,\n      ar = 1; // decide which gap to fill\n\n  if (nw < w) ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n\n  nw *= ar;\n  nh *= ar; // calc source rectangle\n\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY; // make sure source rectangle is valid\n\n  if (cx < 0) cx = 0;\n  if (cy < 0) cy = 0;\n  if (cw > iw) cw = iw;\n  if (ch > ih) ch = ih; // fill image in dest. rectangle\n\n  ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n}"]},"metadata":{},"sourceType":"module"}